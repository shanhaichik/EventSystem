(function(b,a){"function"===typeof define&&define.amd?define(a):"object"===typeof exports?module.exports=a():b.EventSystem=a()})(this,function(){var b=this;b.queue={};return{publish:function(a,d){var c=b.queue[a];c&&c.length&&c.forEach(function(a,b){a.callback(d||{});a.flag&&c.splice(b,1)})},publishChain:function(a,b){a.split(" ").forEach(function(a,e){this.publish(a,b[e])}.bind(this))},subscribe:function(a,d,c){b.queue[a]||(b.queue[a]=[]);var e=b.queue[a].push({flag:!!c,callback:d});return{remove:function(){delete b.queue[a][e]}}},
clear:function(){b.queue={}},list:function(){return Object.keys(b.queue).map(function(a){return{name:a,callbackCount:b.queue[a].length}})}}});